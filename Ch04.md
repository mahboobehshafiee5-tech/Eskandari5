# ุจุฎุด ุงูู โ ููุฏูู ู ุชุนุงุฑู ูพุงู  
**ุงูฺฏูุฑุชูโูุง ููุงุฒ โ ูุตู ฺฉุงุฑุง ู ููุงุณโูพุฐุฑ**  


---

## ฑ.ฑ ฺุฑุง ุงูฺฏูุฑุชูโูุง ููุงุฒุ

ูพุฑุฏุงุฒูุฏูโูุง ุชฺฉโูุณุชูโุง ุฏฺฏุฑ ููโุชูุงููุฏ ูุฑ ุณุงู ุฏู ุจุฑุงุจุฑ ุณุฑุนโุชุฑ ุดููุฏุ ูุฒฺฉ ุงุฒ ูุง ูโุฎูุงูุฏ ุจู ุฌุง ยซุณุฑุนโุชุฑยปุ ยซุจุดุชุฑยป ุดูู. ูุนูุงุฑโูุง ุงูุฑูุฒ ุงุฒ ฺูุฏ ูุณุชู (ุฏุฑ ููพโุชุงูพ) ุชุง ฺูุฏ ุฏูโูุฒุงุฑ ูุณุชู (ุฏุฑ ุงุจุฑุฑุงุงูู) ฺฏุณุชุฑุด ุงูุชูโุงูุฏ. ุงูฺฏูุฑุชู ููุงุฒ ุงูฺฏูุฑุชู ุงุณุช ฺฉู ุจุชูุงูุฏ ููโุฒูุงู ุงุฒ ุงู ููุงุจุน ุจูุฑู ุจุจุฑุฏ ู ฺฉ ุงุฒ ุณู ูุฏู ุฒุฑ ุฑุง ูุญูู ุณุงุฒุฏ:

ฑ. ููุงู ูุณุฆูู ุฑุง ุณุฑุนโุชุฑ ุญู ฺฉูุฏ (ฺฉุงูุด ุฒูุงู).  
ฒ. ูุณุฆููโุง ุจุฒุฑฺฏโุชุฑ ุฑุง ุฏุฑ ููุงู ุฒูุงู ูุจู ุญู ฺฉูุฏ (ุงูุฒุงุด ุฏูุช/ุญุฌู).  
ณ. ุญุงูุธูโุง ุจุดุชุฑ ุฏุฑ ุงุฎุชุงุฑ ุจฺฏุฑุฏ ุชุง ูุณุฆููโุง ุฑุง ุงุตูุงู ูุงุจู ุญู ฺฉูุฏ.

---

## ฑ.ฒ ุณุฑุงู ุฏุฑ ุจุฑุงุจุฑ ููุงุฒ โ ฺฉ ูุซุงู ุณุงุฏู

ูุฑุถ ฺฉูุฏ ุจุงุฏ n=10โถ ุนุฏุฏ ุตุญุญ ุฑุง ุฌูุน ฺฉูู.

| ุฑูุด | ูุฏู | ูุญุงุณุจุงุช | ุฒูุงู ุชูุฑุจ |
|-----|-----|----------|-------------|
| ุณุฑุงู | ฑ ูุณุชู | นนนูฌนนน ุฌูุน ูพุงูพ | Tโ โ n |
| ููุงุฒ | p ูุณุชู | ูุฑ ูุณุชู n/p ุนุฏุฏ ุฑุง ุฌูุน ูโฺฉูุฏุ ุณูพุณ p ุฌูุงุจ ุฌุฒุฆ ุฑุง ุฏุฑุฎุชโูุงุฑ ุฌูุน ูโฺฉูู | Tโ โ n/p + logโp |


ุชุงุจุน ูฺฏุงุฑุชู \(\log_2 p\) ุฏุฑ ุฒูุงู ุงุฌุฑุง ููุงุฒ \(T_p \approx \frac{n}{p} + \log_2 p\) ุงุฒ **ูุฑุญูู ฺฉุงูุด (reduction)** ููุง ูุงุด ูโุดูุฏ.

### ุชูุถุญ ฺฉุงูู:

ุฏุฑ ุฑูุด ููุงุฒ ุชูุตูโุดุฏู:
1. **ูุฑุญูู ุงูู (ูพุฑุฏุงุฒุด ูุญู)**:  
   ูุฑ ฺฉ ุงุฒ \(p\) ูุณุชูุ ุจูโุทูุฑ ูุณุชูู \(\frac{n}{p}\) ุนุฏุฏ ุฑุง ุฌูุน ูโฺฉูุฏ. ุงู ุจุฎุด ุจูโุทูุฑ ููุงุฒ ุงูุฌุงู ูโุดูุฏุ ูพุณ ุฒูุงู ุขู \(\frac{n}{p}\) ุงุณุช.

2. **ูุฑุญูู ุฏูู (ุฌูุน ูุชุงุฌ ุฌุฒุฆ)**:  
   ูพุณ ุงุฒ ุงูฺฉู ูุฑ ูุณุชู ฺฉ ูุฌููุน ุฌุฒุฆ ุฑุง ุชููุฏ ฺฉุฑุฏุ ุงู \(p\) ููุฏุงุฑ ุจุงุฏ ุจุง ูู ุฌูุน ุดููุฏ ุชุง ูุชุฌู ููุง ุจูโุฏุณุช ุขุฏ.  
   ุงู ุนููุงุชุ ฺฉ **ุงูฺฏูุฑุชู ฺฉุงูุด (parallel reduction)** ุงุณุช.

   - ุงฺฏุฑ ุงู ุฌูุน ุฑุง ุจูโุตูุฑุช **ุฏุฑุฎุช** ุงูุฌุงู ุฏูู (ูุซูุงู ุฏุฑ ูุฑ ูุฑุญููุ ุฌูุชโูุง ุงุฒ ูุชุงุฌ ุฌูุน ุดููุฏ)ุ ุฏุฑ ูุฑ ูุฑุญูู ุชุนุฏุงุฏ ููุงุฏุฑ ูุตู ูโุดูุฏ.
   - ุจุฑุง ฺฉุงูุด \(p\) ููุฏุงุฑ ุจู ฺฉ ููุฏุงุฑ ููุงุ **ุชุนุฏุงุฏ ูุฑุงุญู ูุงุฒู ุจุฑุงุจุฑ ุงุณุช ุจุง \(\log_2 p\)** (ุฏุฑ ูุฑุถ ุงูฺฉู \(p\) ุชูุงู ุงุฒ ฒ ุจุงุดุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ุณูู \(\log_2 p\) ุงุณุช).
   - ูุฑ ูุฑุญูู ุดุงูู ฺฉ ุนูู ุฌูุน ุงุณุช ฺฉู ูุนูููุงู ุฏุฑ ฺฉ ฺฏุงู ุฒูุงู ูุฑุถ ูโุดูุฏ (ุง ฺฏุงูโูุง ููุฒูุงู ุจุฑุง ุฌูุชโูุง).

ุจูุงุจุฑุงูุ ุฒูุงู ูุงุฒู ุจุฑุง ุงู ูุฑุญูู ฺฉุงูุดุ ูุชูุงุณุจ ุจุง \(\log_2 p\) ุงุณุช.

### ุฌูุนโุจูุฏ:
ุชุงุจุน ูฺฏุงุฑุชู \(\log_2 p\) ูุดุงูโุฏููุฏู **ุนูู ุฏุฑุฎุช ฺฉุงูุด** ุงุณุช ฺฉู ุจุฑุง ุชุฑฺฉุจ \(p\) ูุชุฌู ุฌุฒุฆ ุฏุฑ ฺฉ ูุชุฌู ููุง ูุงุฒู ุงุณุช.
ุฏุฑ ุฑูุด ููุงุฒ ูุฑุญูู ุฏูู ยซุชุฑฺฉุจ ูุชุงุฌยป ูุงูุฏู ูโุดูุฏ ู ููุจุน ุงุตู **Overhead** ุงุณุชุ ุนู ฺฉุงุฑ ฺฉู ุฏุฑ ูุณุฎู ุณุฑุงู ุงุตูุงู ูุฌูุฏ ูุฏุงุฑุฏ.

---

## ฑ.ณ ูพูุฌ ูพุงุฑุงูุชุฑ ุทูุง

ุจุฑุง ุณูุฌุด ูุฑ ุงูฺฏูุฑุชู ููุงุฒ ูพูุฌ ฺฉูุช ุฒุฑ ุฑุง ุชุนุฑู ูโฺฉูู. ููู ููุงุฏุฑ ุฏุฑ ฺฉ ยซูุณุฆูู ูุดุฎุตยป ุงูุฏุงุฒูโฺฏุฑ ูโุดููุฏ (ูุซูุงู ููุงู ฺฉ ูููู ุนุฏุฏ).

| ููุงุฏ | ูุงู | ุชุนุฑู ุฏูู | ูุงุญุฏ ุฑุงุฌ |
|------|-----|------------|-----------|
| M | ุญุงูุธู | ฺฉู ุฏุงุฏูโูุง ูุฑูุฏ + ุฎุฑูุฌ + ูุชุบุฑูุง ฺฉุงุฑ | Word (= 8 B) |
| W | ฺฉุงุฑ | ุชุนุฏุงุฏ ุนููุงุช ุงุตู (ุฌูุนุ ุถุฑุจุ ููุงุณู โฆ) | FLOP ุง OP |
| V | ุณุฑุนุช ูพุฑุฏุงุฒูุฏู | ุนููุงุช ุฏุฑ ูุงุญุฏ ุฒูุงู ฺฉ ูุณุชู | FLOPS |
| T | ุฒูุงู ุงุฌุฑุง | ูุงู-ฺฉูุงฺฉ ุงุฒ ุดุฑูุน ุชุง ูพุงุงู ุจุฑูุงูู | ุซุงูู |
| C | ูุฒูู | ุชุนุฏุงุฏ ูุณุชู ร ุฒูุงู ุงุฌุฑุง | ูุณุชูรุซุงูู |

**ุชุฐฺฉุฑ:** ุฏุฑ ุชุญููโูุง ูุธุฑ ูุนูููุงู V=1 ูุฑุถ ูโุดูุฏ ุชุง ูุฑูููโูุง ุณุงุฏู ุดููุฏุ ุฏุฑ ุงู ุตูุฑุช T ุจุฑุงุจุฑ ยซฺฉู ฺฉุงุฑยป ุฎูุงูุฏ ุจูุฏ.

---

## ฑ.ด ุดุงุฎุตโูุง ุณุฑุงู ู ููุงุฒ

ูุฑ ฺฉูุช ุจุงูุง ุฑุง ูโุชูุงู ุจุง ุฒุฑููุณ ฑ ุง p ูุดุงู ุฏุงุฏ:

- Wโ : ฺฉุงุฑ ฺฉู ุงูฺฏูุฑุชู ุณุฑุงู ุงูุฌุงู ูโุฏูุฏ.  
- Wโ : ฺฉุงุฑ ฺฉู ุงูฺฏูุฑุชู ููุงุฒ ุจุง p ูุณุชู ุงูุฌุงู ูโุฏูุฏ (ุดุงูู ุงุถุงููโฺฉุงุฑ).  
- Tโ = Wโ / V (ุงฺฏุฑ V ุซุงุจุช ุจุงุดุฏ).  
- Tโ = ุฒูุงู ูุงูุน ุงุฌุฑุง ุฑู p ูุณุชู.  
- Cโ = p ร Tโ (ูุฒูู ฺฉู ุณุณุชู).

---

## ฑ.ต Overhead ููุงุฒ โ ุฑุดูโ ุงูุช ฺฉุงุฑุง

Overhead ุชุนุฑู ูโุดูุฏ:

Oโ = Wโ โ Wโ (ฑ-ฑ)

ุณู ููุจุน ุงุตู overhead ุนุจุงุฑุชโุงูุฏ ุงุฒ:

ฑ. **ูุญุงุณุจุงุช ุงุถุงู (Extra Computation)**  
   ูุซูุงู ุฏุฑ ุฌูุน ุฏุฑุฎุช ูุฌุจูุฑู log p ูุฑุญูู ุงุถุงู ุงูุฌุงู ุฏูู ุชุง subtotalโูุง ุฑุง ุชุฑฺฉุจ ฺฉูู.

ฒ. **ุงุฑุชุจุงุท (Communication)**  
   ุงุฑุณุงู/ุฏุฑุงูุช ุฏุงุฏู ุจู ูุณุชูโูุง ุฏุฑ ูุฏู message-passing (MPI) ุฒูุงู ูโุจุฑุฏ ู ฺฏุงู ฺฉูพ ุฏุงุฏู ุฑุง ูู ุงูุฒุงุด ูโุฏูุฏ.

ณ. **ุจฺฉุงุฑ (Idle Time)**  
   ุงฺฏุฑ ุจุงุฑ ฺฉุงุฑ ุจู ูุณุชูโูุง ูุงูุณุงู ุชูุณู ุดูุฏุ ุจุฑุฎ ูุณุชูโูุง ุฒูุฏุชุฑ ุชูุงู ูโฺฉููุฏ ู ููุชุธุฑ ูพุงู ุง ููฺฏุงูโุณุงุฒ ูโูุงููุฏ.

ูุฑ ฺู Oโ ุจุฒุฑฺฏโุชุฑ ุจุงุดุฏุ ฺฉุงุฑุง ุงูฺฏูุฑุชู ูุณุจุช ุจู ูุณุฎู ุณุฑุงู ฺฉูุชุฑ ุฎูุงูุฏ ุจูุฏ.

---

## ฑ.ถ ฺฉ ูุซุงู ุนุฏุฏ ฺฉุงูู

ูุฑุถ ฺฉูุฏ ุขุฑุงูโุง ุจุง n=4ร10โถ ุนุฏุฏ ุตุญุญ ธ-ุจุงุช ุฏุงุฑู.

| ูพุงุฑุงูุชุฑ | ููุฏุงุฑ | ุชูุถุญ |
|---------|--------|--------|
| M | 32 MB | 4M ร 8 B |
| Wโ | 4ร10โถ OP | nโ1 ุฌูุน |
| V | 2 GFLOPS | ูุฑ ูุณุชู |
| Tโ | 2 ms | 4M รท 2 G |
| p | 64 | |
| Wโ | 4 000 384 OP | n + p logโp โ 4M + 64ร6 |
| Oโ | 384 OP | ฐ.ฐฐนถูช ุงุถุงููโฺฉุงุฑ |
| Tโ | 0.034 ms | (4M/64 + 6) รท 2 G |
| Cโ | 0.002ฑธ ูุณุชูรุซุงูู | 64 ร 0.034 ms |

ุฏุฑ ุงู ุญุงูุช overhead ููุท ฐ.ฐฑูช ุงุณุช ู ุณุฑุนุชโฺฏุฑูุชฺฏ ูุฒุฏฺฉ ุจู ถฐ ุฎูุงูุฏ ุจูุฏ (ถด/ฐ.ฐณด โ ตน).

---

## ฑ.ท ุฌูุนโุจูุฏ ุจุฎุด ุงูู

ฑ. ุงูฺฏูุฑุชู ููุงุฒ ุจุงุฏ ยซฺฉุงุฑ ุจุดุชุฑยป (Wโ โฅ Wโ) ุงูุฌุงู ุฏูุฏุ ุงู ุงุถุงููโฺฉุงุฑ ุฑุง overhead ูโูุงูู.  
ฒ. overhead ุณู ููุจุน ุฏุงุฑุฏ: ูุญุงุณุจุงุช ุงุถุงูุ ุงุฑุชุจุงุทุ ุจฺฉุงุฑ.  
ณ. ุจุง ูพุงุฑุงูุชุฑูุง {M, W, V, T, C} ูโุชูุงู ูุฑ ุงูฺฏูุฑุชู ุฑุง ุตูุฑุชโุจูุฏ ฺฉุฑุฏ ู ุจู ุงุฒุง p ูุฎุชูู ูพุดโุจู ุฒูุงู ู ูุฒูู ุฑุง ุงูุฌุงู ุฏุงุฏ.  
ด. ูุฏู ููุง ุงู ุงุณุช ฺฉู ุจุง ุงูุฒุงุด pุ Tโ ุฑุง ฺฉุงูุด ุฏูู ูู Cโ ุฑุง ุชุง ุญุฏ ููฺฉู ุซุงุจุช ูฺฏู ุฏุงุฑูุ ุงฺฏุฑ ุงู ุงุชูุงู ุจูุชุฏ ุงูฺฏูุฑุชู ุฑุง **ููุงุณโูพุฐุฑ** ูโูุงูู (ููุถูุน ุจุฎุดโูุง ุจุนุฏ).

---

## ุชูุฑู ุจุฎุด ุงูู

### ุณุคุงู ฑ (ฒฐ ููุฑู)
ฺฉ ุขุฑุงู ฒ ูููู ุนุฏุฏ ุตุญุญ ุฏุงุฑุฏ.  
ุงูู) ุงฺฏุฑ ฺฉ ูุณุชู ฑ GFLOPS ุณุฑุนุช ุฏุงุฑุฏุ Tโ ุฑุง ุจู ููโุซุงูู ูุญุงุณุจู ฺฉูุฏ.  
ุจ) ุจุง ณฒ ูุณุชูุ Wโ = 2 000 320 ู V=1 GFLOPSุ Tโ ุฑุง ูุญุงุณุจู ฺฉูุฏ.  
ุฌ) overhead ุฑุง ุจู ุฏุฑุตุฏ ุจุงู ฺฉูุฏ.

### ุณุคุงู ฒ (ฑต ููุฑู)
ูุฑููู Tโ = n/p + 3 logโp ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. ุจุฑุง n=1Mุ p ุฑุง ุงุฒ ฑ ุชุง ฑฒธ ุจุง ฺฏุงูโูุง ฒ ุจุฑุงุจุฑ ุชุบุฑ ุฏูุฏ ู ูููุฏุงุฑ Tโ-p ุฑุง ุฑุณู ฺฉูุฏ. ุฏุฑ ฺู pโุง ฺฉุงูุด ุฒูุงู ูุชููู ูโุดูุฏุ

### ุณุคุงู ณ (ฑต ููุฑู)
ฺุฑุง ุฏุฑ ุงูฺฏูุฑุชู ุฌูุนโุณุงุฒ ููุช p > n ุฏฺฏุฑ ุงูุฒุงุด ูุณุชู ููุฏ ูุณุชุ ุชูุถุญ ฺฉูุชุงู (ุญุฏุงฺฉุซุฑ ต ุฎุท).

---

**ูพุงุงู ุจุฎุด ุงูู**

# ุจุฎุด ุฏูู โ ฺฉุงุฑุง (Efficiency) ู ุณุฑุนุชโฺฏุฑูุชฺฏ (Speedup)

## ฒ.ฑ ุชุนุฑู ฺฉุงุฑุง ู ุณุฑุนุชโฺฏุฑูุชฺฏ

ฺฉุงุฑุง ุนู ยซฺูุฏุฑ ุงุฒ ููุงุจุน ุงุถุงูู ูุงูุนุงู ุงุณุชูุงุฏู ุดุฏูุยป ู ุณุฑุนุชโฺฏุฑูุชฺฏ ุนู ยซฺูุฏ ุจุฑุงุจุฑ ุณุฑุนโุชุฑ ุดุฏูุยป. ูุฑูููโูุง ูพุงู:

$$
E_p = \frac{W_1}{W_p}
$$

$$
S_p = \frac{T_1}{T_p} = p \cdot E_p
$$

ุงฺฏุฑ V ุซุงุจุช ุจุงุดุฏ (V = 1):

$$
E_p = \frac{W_1}{W_1 + O_p}
$$

$$
S_p = p \cdot \frac{W_1}{W_1 + O_p}
$$

ฺูู \(O_p \ge 0\)ุ ููุดู \(E_p \le 1\) ู \(S_p \le p\) ูฺฏุฑ ุงูฺฉู Superlinear ุฑุฎ ุฏูุฏ.

---

## ฒ.ฒ ูุซุงู ุฌูุนโุณุงุฒ ุงุนุฏุงุฏ

| ูพุงุฑุงูุชุฑ | ููุฏุงุฑ |
|---------|--------|
| n | 1,000,000 |
| p | 128 |
| W1 | 1ร10โถ |
| Wp | 1,000,896 |
| Op | 896 |
| T1 | 1 ms |
| Tp | 7.82 ms |
| Ep | 0.999 |
| Sp | 127.9 |

---

## ฒ.ณ ุณุฑุนุชโฺฏุฑูุชฺฏ ูููโุงูุนุงุฏู (Superlinear)

ฺฏุงู \(S_p > p\) ูโุดูุฏ. ุฏู ุฏูู:

1. ุฏุงุฏู ุฏุฑ ฺฉุด ุฌุง ูโุดูุฏ.  
2. ูุณุฎู ุณุฑุงู ูุฌุจูุฑ ุจู Swap ุจูุฏู ูู ูุณุฎู ููุงุฒ ูู.

ูุซุงู:  
ุฒูุงู ุณุฑุงู = 100 s  
ุฒูุงู ุจุง 4 ูุณุชู = 20 s  
ุจูุงุจุฑุงู:  
$$
S_4 = 5
$$

---

## ฒ.ด ูุงููู ุงูุฏุงู (Amdahlโs Law)

ุงฺฏุฑ s ุจุฎุด ุณุฑุงู ุจุงุดุฏ:

$$
T_p = s T_1 + \frac{(1-s) T_1}{p}
$$

$$
S_p = \frac{1}{s + \frac{1-s}{p}}
$$

ุญุฏุงฺฉุซุฑ ุณุฑุนุชโฺฏุฑูุชฺฏ:

$$
S_{\infty} = \frac{1}{s}
$$

---

## ฒ.ต ฺฉุงุฑุง ุทุจู ูุงููู ุงูุฏุงู

$$
E_p = \frac{S_p}{p}
$$

ุจุง pโโ:

$$
E_p \rightarrow 0
$$

---

## ฒ.ถ ฺฺฉโูุณุช ุทุฑุงุญ ฺฉุงุฑุง

- ฺฉุงูุด ุจุฎุด ุณุฑุงู (s)  
- ุชูุงุฒู ุจุงุฑ  
- ฺฉุงูุด ุงุฑุชุจุงุท  
- ุงูุฒุงุด ูุญุงุณุจุงุช ูุญู  
- ุงูุชุฎุงุจ ุงูุฏุงุฒูู ููุงุณุจ Task  

---

## ฒ.ท ุฌูุนโุจูุฏ

- ฺฉุงุฑุง = ุจูุฑูโูุฑ ูุณุชูโูุง ุงุถุงู  
- ุณุฑุนุชโฺฏุฑูุชฺฏ ููุดู โค p ูุณุช (ููฺฉู ุงุณุช Superlinear ุดูุฏ)  
- ูุงููู ุงูุฏุงู ุณูู ุณุฎุช ุฏุงุฑุฏ  
- ุจุฑุง ฺฉุงุฑุง ุจุงูุง ุจุงุฏ Scaling ุงูุฌุงู ุฏุงุฏ  

---

# ุชูุฑู ุจุฎุด ุฏูู

### ุณุคุงู ฑ
ดูช ฺฉุงุฑ ุณุฑุงู ุงุณุช.  
ุงูู) \(S_{\infty}\) ุฑุง ุญุณุงุจ ฺฉูุฏ.  
ุจ) ฺูุฏ ูุณุชู ุจุฑุง \(S_p = 20\) ูุงุฒู ุงุณุชุ  
ุฌ) ุงฺฏุฑ s = 1ูช ุดูุฏ ฺู ุชุนุฏุงุฏ ูุณุชู ูุงุฒู ุงุณุชุ

### ุณุคุงู ฒ
n=2ยฒโด ุ p=256  
$$
W_p = n + 2 p \log_2(p)
$$  
Ep ู Sp ุฑุง ุญุณุงุจ ฺฉูุฏ. ุขุง Superlinear ุฑุฎ ุฏุงุฏูุ

### ุณุคุงู ณ
ฺฉ Mind-map ุจฺฉุดุฏ ฺฉู ุนูุงูู ููุซุฑ ุจุฑ Ep ุฑุง ุจู Overhead ู ุณูพุณ Sp ูุตู ฺฉูุฏ.

---


# ุจุฎุด ุณูู โ ููุงุณโูพุฐุฑ (Scalability) ู ุชุงุจุน ุงุฒูฺฉุงุฑุง

## ณ.ฑ ุชุนุฑู ููุงุณโูพุฐุฑ

ุงูฺฏูุฑุชู ููุงุณโูพุฐุฑ ุงุณุช ุงฺฏุฑ ุจุง ุงูุฒุงุด ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุงุ ฺฉุงุฑุง ุขู ุจู ุตูุฑ ูุฑุณุฏ. ุนู:

$$
E_p \ge \varepsilon > 0
$$

ุจู ุฒุจุงู ุณุงุฏู: ุจุง ุงูุฒุงุด p ุจุชูุงูู ูุณุฆูู ุจุฒุฑฺฏโุชุฑ ุง ุฏููโุชุฑ ุญู ฺฉูู ุจุฏูู ุงูฺฉู overhead ูููโฺุฒ ุฑุง ุฎุฑุงุจ ฺฉูุฏ.

---

## ณ.ฒ ุงููุงุน Scaling

| ูุงู | invariant | ุฑูุชุงุฑ ูุณุฆูู | ฺฉุงุฑุจุฑุฏ |
|-----|-----------|-------------|--------|
| Strong Scaling | n ุซุงุจุช | ุฒูุงู ฺฉูุชุฑ ูโุดูุฏ | ฺฉุงุฑุจุฑุฏูุง real-time |
| Weak Scaling | W_1/p ุซุงุจุช | ุฒูุงู โ ุซุงุจุช | ุดุจูโุณุงุฒโูุง HPC |
| Fixed Memory/Node | M/p ุซุงุจุช | n ุฑุดุฏ ูโฺฉูุฏ | ฺฉูุงุณุชุฑูุง distributed |
| Fixed Accuracy | ฮต ุซุงุจุช | ูุถูุญ/ุฐุฑุงุช ุฑุดุฏ ูโฺฉูุฏ | ุฑูุดโูุง adaptive |
| Fixed Efficiency | E_p ุซุงุจุช | n ุจุงุฏ ุจุง p ุฑุดุฏ ฺฉูุฏ | ุชุญูู ูุธุฑ |

---

## ณ.ณ Strong Scaling

- n ุซุงุจุช โ W_1 ุซุงุจุช  
- ุจุง ุงูุฒุงุด pุ ุฏุฑ ููุงุช ุงุฑุชุจุงุท ุบุงูุจ ูโุดูุฏ ู:

$$
E_p \rightarrow 0
$$

ูุซุงู: ุจุฑุง n = 1Mุ ููุช p > n ุจุฑุฎ ูุณุชูโูุง ฺฉุงุฑ ูุฏุงุฑูุฏ.

---

## ณ.ด Weak Scaling

ูุฑุถ: ฺฉุงุฑ ูุฑ ูุณุชู ุซุงุจุช ุจูุงูุฏ:

$$
W_1 \propto p
$$

ุงฺฏุฑ ุจุชูุงูู O_p ุฑุง ุฎุท ูฺฏู ุฏุงุฑูุ ุขูฺฏุงู:

$$
T_p \approx \text{ุซุงุจุช}, \qquad E_p \approx \text{ุซุงุจุช}
$$

---

## ณ.ต ูุงููู ฺฏูุณุชุงูุณูู (Gustafson)
ูุงููู ฺฏูุณุชุงูุณูู ูุดุงู ูโุฏูุฏ ฺฉู ุงฺฏุฑ ุงูุฏุงุฒู ูุณุฆูู ุฑุง ูุชูุงุณุจ ุจุง ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง ุงูุฒุงุด ุฏููุ ูโุชูุงูู ุงุฒ ููุงุจุน ููุงุฒ ุจูโุทูุฑ ูุคุซุฑ ุงุณุชูุงุฏู ฺฉูู ู ุณุฑุนุชโฺฏุฑูุชฺฏ ุชูุฑุจุงู ุฎุท ุจู ุฏุณุช ุขูุฑู. ุจู ููู ุฏููุ ุงู ูุงููู ุฏุฑ ุชุญูู Weak Scaling ู ุทุฑุงุญ ุงูฺฏูุฑุชูโูุง ููุงุณโูพุฐุฑ ุงููุช ูฺูโุง ุฏุงุฑ
ุงฺฏุฑ ุฒูุงู ุซุงุจุช ุจุงุดุฏ:

$$
T_p = sT + (1-s)T
$$

ุณุฑุนุชโฺฏุฑูุชฺฏ:

$$
S_G = s + (1-s)p
$$

ูฺฺฏ: ุจุง p ุชูุฑุจุงู ุฎุท ุฑุดุฏ ูโฺฉูุฏ.


ุชูุงูุช ุจุง ูุงููู ุงูุฏุงู
ูุงููู ุงูุฏุงู ูุฑุถ ูโฺฉูุฏ ุงูุฏุงุฒู ูุณุฆูู ุซุงุจุช ุงุณุช ู ููุท ุฒูุงู ฺฉุงูุด ูโุงุจุฏ. ูุชุฌู: ุณูู ุณุฑุนุชโฺฏุฑูุชฺฏ ูุญุฏูุฏ ูโุดูุฏ.

ูุงููู ฺฏูุณุชุงูุณูู ูุฑุถ ูโฺฉูุฏ ุฒูุงู ุซุงุจุช ูโูุงูุฏุ ูู ุจุง ุงูุฒุงุด ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง ูโุชูุงู ุงูุฏุงุฒู ูุณุฆูู ุฑุง ุจุฒุฑฺฏโุชุฑ ฺฉุฑุฏ. ูุชุฌู: ุณุฑุนุชโฺฏุฑูุชฺฏ ุชูุฑุจุงู ุฎุท ุจุง 
๐
 ุฑุดุฏ ูโฺฉูุฏ.

 <img width="1000" height="600" alt="image" src="https://github.com/user-attachments/assets/9d0649fa-340b-46dd-9a00-cb3e1e23d8c4" />

 
ุฏุฑ ุงู ูููุฏุงุฑ ูโุจูุฏ ฺฉู ุณุฑุนุชโฺฏุฑูุชฺฏ ุทุจู ูุงููู ุงูุฏุงู ุฎู ุฒูุฏ ุจู ุณูู ูโุฑุณุฏุ ุฏุฑ ุญุงู ฺฉู ุทุจู ูุงููู ฺฏูุณุชุงูุณูู ุจุง ุงูุฒุงุด ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง ุชูุฑุจุงู ุฎุท ุฑุดุฏ ูโฺฉูุฏ.

๐น ุชุญูู ูููุฏุงุฑ
ูุงููู ุงูุฏุงู (Amdahlโs Law): ุจุง ุงูุฒุงุด ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุงุ ุณุฑุนุชโฺฏุฑูุชฺฏ ุจู ฺฉ ุณูู ูุญุฏูุฏ ูุฒุฏฺฉ ูโุดูุฏ. ุฏููุด ุงู ุงุณุช ฺฉู ุจุฎุด ุณุฑุงู ุจุฑูุงูู (
๐
) ููุดู ุจุงู ูโูุงูุฏ ู ููโุชูุงู ุขู ุฑุง ููุงุฒ ฺฉุฑุฏ.

ุฏุฑ ูุซุงู ูุง ุจุง 
๐
=
0.1
ุ ุณูู ุณุฑุนุชโฺฏุฑูุชฺฏ ุญุฏูุฏ 10 ุจุฑุงุจุฑ ุงุณุชุ ุญุช ุงฺฏุฑ ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง ุจโููุงุช ุดูุฏ.

ูุงููู ฺฏูุณุชุงูุณูู (Gustafsonโs Law): ูุฑุถ ูโฺฉูุฏ ุฒูุงู ฺฉู ุซุงุจุช ูโูุงูุฏุ ูู ุงูุฏุงุฒู ูุณุฆูู ูุชูุงุณุจ ุจุง ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง ุงูุฒุงุด ูพุฏุง ูโฺฉูุฏ.

ุฏุฑ ูุชุฌู ุณุฑุนุชโฺฏุฑูุชฺฏ ุชูุฑุจุงู ุฎุท ุจุง 
๐
 ุฑุดุฏ ูโฺฉูุฏ.

ูุซูุงู ุจุง 128 ูพุฑุฏุงุฒูุฏู ู 
๐
=
0.1
ุ ุณุฑุนุชโฺฏุฑูุชฺฏ ุจู ุญุฏูุฏ 115 ูโุฑุณุฏุ ฺฉู ุจุณุงุฑ ุจุดุชุฑ ุงุฒ ุณูู ุงูุฏุงู ุงุณุช.

๐น ฺฉุงุฑุจุฑุฏ ุนูู
ุงูุฏุงู: ููุงุณุจ ุจุฑุง ุชุญูู Strong Scaling (ุงูุฏุงุฒู ูุณุฆูู ุซุงุจุชุ ุฒูุงู ฺฉุงูุด ูโุงุจุฏ).

ฺฏูุณุชุงูุณูู: ููุงุณุจ ุจุฑุง ุชุญูู Weak Scaling (ุฒูุงู ุซุงุจุชุ ุงูุฏุงุฒู ูุณุฆูู ุจุฒุฑฺฏโุชุฑ ูโุดูุฏ).

โจ ูุชุฌูโฺฏุฑ
ุงฺฏุฑ ูพุฑูฺู ุดูุง ุดุงูู ุดุจูโุณุงุฒโูุง ุจุฒุฑฺฏ ุง HPC ุจุงุดุฏุ ูุงููู ฺฏูุณุชุงูุณูู ุฏุฏ ูุงูุนโุจูุงููโุชุฑ ุงุฑุงุฆู ูโุฏูุฏ.

ุงฺฏุฑ ูุณุฆูู ุซุงุจุช ุงุณุช ู ููุท ูโุฎูุงูุฏ ุฒูุงู ุงุฌุฑุง ุฑุง ฺฉุงูุด ุฏูุฏุ ูุงููู ุงูุฏุงู ูุญุฏูุฏุชโูุง ูุงูุน ุฑุง ูุดุงู ูโุฏูุฏ.
---

## ณ.ถ ุชุงุจุน ุงุฒูฺฉุงุฑุง (Isoefficiency)
ุชุงุจุน ุงุฒูฺฉุงุฑุง ุงุจุฒุงุฑ ุชุญูู ุฏุฑ ูุญุงุณุจุงุช ููุงุฒ ุงุณุช ฺฉู ูุดุงู ูโุฏูุฏ ุจุฑุง ุญูุธ ฺฉ ุณุทุญ ูุดุฎุต ุงุฒ ฺฉุงุฑุง (Efficiency)ุ ุงูุฏุงุฒู ูุณุฆูู ุจุงุฏ ฺฺฏููู ุจุง ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง ุฑุดุฏ ฺฉูุฏ.
ูโุฎูุงูู:

$$
E_p = E_0
$$

ุนู ฺฉุงุฑุง ููุงุฒ 
๐ธ
๐
 ุจุงุฏ ุจุฑุงุจุฑ ุจุง ฺฉ ููุฏุงุฑ ุซุงุจุช ูุทููุจ 
๐ธ
0
 ุจุงู ุจูุงูุฏ.
ุงุฒ ุชุนุฑู:

$$
E_0 = \frac{W_1}{W_1 + O_p}
$$

ฺฉู ุฏุฑ ุขู:

๐
1
: ฺฉุงุฑ ูุญุงุณุจุงุช ุงุตู (ุงูุฏุงุฒู ูุณุฆูู)

๐
๐
: ุณุฑุจุงุฑ ููุงุฒโุณุงุฒ (ุงุฑุชุจุงุทุ ููุงููฺฏุ ููฺฏุงูโุณุงุฒ)
ูุชุฌู:

$$
O_p = \frac{1-E_0}{E_0} \, W_1
$$

ุชุงุจุน ุงุฒูฺฉุงุฑุง:

$$
W_1^{iso}(p) = \text{ฺฉูฺฺฉโุชุฑู } W_1(n) \text{ ฺฉู } E_p \ge E_0
$$

ุจูุงุจุฑุงู ุชุงุจุน ุงุฒูฺฉุงุฑุง ูุดุฎุต ูโฺฉูุฏ ฺฉู ุญุฏุงูู ุงูุฏุงุฒู ูุณุฆูู 
๐
1
๐
๐
๐
(
๐
)
 ุจุฑุง ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง 
๐
 ฺูุฏุฑ ุจุงุฏ ุจุงุดุฏ ุชุง ฺฉุงุฑุง ุญูุธ ุดูุฏ.
| ุฑุดุฏ | ฺฉูุช | ุฒูุงู ููุง | ููููู |
|------|---------|--------------|---------|
| ฮ(p) | ุนุงู | ฮ(1) | ูุงุชุฑุณรุจุฑุฏุงุฑ 2D |
| ฮ(p log p) | ุฎูุจ | ฮ(log p) | ุฌูุน ุฏุฑุฎุช |
| ฮ(pยฒ) | ูุชูุณุท | ฮ(p) | stencil 1D |
| ฮ(p^k) | ุถุนู | ฮ(p^{k-1}) | stencil ุฑู bus |

---

## ณ.ท ุงุฒูฺฉุงุฑุง ุจุฑุง ุฌูุนโุณุงุฒ

$$
W_1 = n
$$

$$
W_p = n + p \log p
$$

$$
E_p = \frac{n}{n + p\log p} = E_0
$$

ุญู:

$$
n(1-E_0) = E_0 p \log p
$$

$$
n = \frac{E_0}{1-E_0} \, p \log p
$$

ูพุณ:

$$
W_1^{iso}(p) = \Theta(p \log p)
$$

---

## ณ.ธ ููุงุณู 1D ู 2D ุฏุฑ Stencil 3D

| ููุน | ุงุฑุชุจุงุท | ุงุฒูฺฉุงุฑุง | ูุชุฌู |
|-----|----------|-------------|--------|
| 1D | ฮ(nยฒ) | ฮ(pยฒ) | ูุชูุณุท |
| 2D | ฮ(nยฒ/โp) | ฮ(p) | ุนุงู |

---

## ณ.น ุดุจฺฉู ุจุง ุฑูุงุจุช (bus)

ุดุจฺฉู ุจุง ุฑูุงุจุช (bus network) ฺฉ ุงุฒ ูุฏูโูุง ุงุฑุชุจุงุท ุฏุฑ ูุญุงุณุจุงุช ููุงุฒ ุงุณุช ฺฉู ุฏุฑ ุชุญูู ุงุฒูฺฉุงุฑุง ู ููุงุณโูพุฐุฑ ุงูฺฏูุฑุชูโูุง ูุทุฑุญ ูโุดูุฏ.

ุจุฑุง stencil 1D:

$$
W_{comm} = \Theta(p^2)
$$

ุงุฒูฺฉุงุฑุง:

$$
W_1^{iso} = \Theta(p^4)
$$

ุนู ุงูฺฏูุฑุชู ููุงุณโูพุฐุฑ ุจุณุงุฑ ุถุนู ุฑู bus ุฏุงุฑุฏ.


ุชุนุฑู
ุฏุฑ ฺฉ ุดุจฺฉู bus ููู ูพุฑุฏุงุฒูุฏูโูุง ุงุฒ ฺฉ ูุณุฑ ุงุฑุชุจุงุท ูุดุชุฑฺฉ ุจุฑุง ุชุจุงุฏู ุฏุงุฏู ุงุณุชูุงุฏู ูโฺฉููุฏ.

ุงู ูุณุฑ ูุดุชุฑฺฉ ุจุงุนุซ ูโุดูุฏ ฺฉู ูพุฑุฏุงุฒูุฏูโูุง ุจุฑุง ุฏุณุชุฑุณ ุจู ุญุงูุธู ุง ุงุฑุณุงู ูพุงูโูุง ุฑูุงุจุช (contention) ุฏุงุดุชู ุจุงุดูุฏ.

ูุชุฌู: ุจุง ุงูุฒุงุด ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุงุ ุณุฑุจุงุฑ ุงุฑุชุจุงุท ุจู ุดุฏุช ุฑุดุฏ ูโฺฉูุฏ.

๐น ุงุฑุชุจุงุท ุจุง ุงุฒูฺฉุงุฑุง
ุฏุฑ ุฌุฏูู ุงุฒูฺฉุงุฑุง ุตูุญูุ ุงูฺฏูุฑุชูโูุง ฺฉู ุฑู ุดุจฺฉู bus ุงุฌุฑุง ูโุดููุฏุ ุฑุดุฏ ุถุนู ุฏุงุฑูุฏ:

๐
1
๐
๐
๐
(
๐
)
=
ฮ
(
๐
๐
)
ู ุฒูุงู ููุง:

ฮ
(
๐
๐
โ
1
)
ุงู ุนู ุจุฑุง ุญูุธ ฺฉุงุฑุง ุซุงุจุชุ ุงูุฏุงุฒู ูุณุฆูู ุจุงุฏ ุฎู ุณุฑุนโุชุฑ ุงุฒ ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง ุฑุดุฏ ฺฉูุฏ. ุฏุฑ ุนููุ ฺูู ุงูฺฏูุฑุชูโูุง ููุงุณโูพุฐุฑ ุถุนู ุฏุงุฑูุฏ.

๐น ูฺฺฏโูุง
ูุฒุช: ุทุฑุงุญ ุณุงุฏูุ ูุฒูู ุณุฎุชโุงูุฒุงุฑ ูพุงู.

ุนุจ: ุฑูุงุจุช ุดุฏุฏ ุจู ูพุฑุฏุงุฒูุฏูโูุงุ ุงูุฒุงุด ุชุฃุฎุฑ ุงุฑุชุจุงุทุ ฺฉุงูุด ฺฉุงุฑุง ุฏุฑ ููุงุณ ุจุฒุฑฺฏ.


ฺฉุงุฑุจุฑุฏ: ุจุดุชุฑ ุฏุฑ ุณุณุชูโูุง ูุฏู ุง ฺฉูฺฺฉ ุงุณุชูุงุฏู ูโุดุฏุ ุฏุฑ HPC ูุฏุฑู ุฌุงฺฏุฒู ุขู ุดุจฺฉูโูุง ูพฺุฏูโุชุฑ ูุซู mesh ุง torus ุดุฏูโุงูุฏ.

<img width="1000" height="600" alt="image" src="https://github.com/user-attachments/assets/f568751a-eb38-432d-b665-6e3a3b403b53" />

ุฏุฑ ุงู ูููุฏุงุฑ ูโุชูุงูุฏ ุจุจูุฏ ฺฉู ฺฉุงุฑุง ุดุจฺฉูโูุง ูุฎุชูู ุจุง ุงูุฒุงุด ุชุนุฏุงุฏ ูพุฑุฏุงุฒูุฏูโูุง ฺฺฏููู ุชุบุฑ ูโฺฉูุฏ:

ุดุจฺฉู Bus: ฺฉุงุฑุง ุฎู ุณุฑุน ุงูุช ูโฺฉูุฏ ฺูู ููู ูพุฑุฏุงุฒูุฏูโูุง ุจุงุฏ ุงุฒ ฺฉ ูุณุฑ ูุดุชุฑฺฉ ุงุณุชูุงุฏู ฺฉููุฏ ู ุฑูุงุจุช ุดุฏุฏ ุงุฌุงุฏ ูโุดูุฏ.

ุดุจฺฉู Mesh: ุงูุช ฺฉุงุฑุง ููุงูโุชุฑ ุงุณุชุ ฺูู ุงุฑุชุจุงุทุงุช ุจู ุตูุฑุช ูุญูโุชุฑ ุงูุฌุงู ูโุดููุฏ ู ุฑูุงุจุช ฺฉูุชุฑ ุงุณุช.

ุดุจฺฉู Torus: ุจูุชุฑู ููุงุณโูพุฐุฑ ุฑุง ุฏุงุฑุฏุ ุงุฑุชุจุงุทุงุช ูุชูุงุฒูโุชุฑ ู ูุณุฑูุง ุจุดุชุฑ ุจุฑุง ุชุจุงุฏู ุฏุงุฏู ูุฌูุฏ ุฏุงุฑุฏุ ุจูุงุจุฑุงู ฺฉุงุฑุง ุฏุฑ ููุงุณ ุจุฒุฑฺฏ ุจูุชุฑ ุญูุธ ูโุดูุฏ.

๐น ุชุญูู ูููุฏุงุฑ
ุฏุฑ ุจุงุฒู 1 ุชุง 128 ูพุฑุฏุงุฒูุฏูุ Bus ุฎู ุณุฑุน ุจู ฺฉุงุฑุง ูพุงู ูโุฑุณุฏ (ฺฉูุชุฑ ุงุฒ 0.2).

Mesh ุฏุฑ ููุงู ุจุงุฒู ฺฉุงุฑุง ุญุฏูุฏ 0.5โ0.7 ุญูุธ ูโฺฉูุฏ.

Torus ุญุช ุจูุชุฑ ุนูู ูโฺฉูุฏ ู ฺฉุงุฑุง ุจุงูุง 0.7 ุฑุง ุชุง ูพุฑุฏุงุฒูุฏูโูุง ุฒุงุฏ ูฺฏู ูโุฏุงุฑุฏ.

โจ ุฌูุนโุจูุฏ
ุงู ููุงุณู ูุดุงู ูโุฏูุฏ ฺฉู:

Bus ุจุฑุง ุณุณุชูโูุง ฺฉูฺฺฉ ููุงุณุจ ุงุณุช ูู ุฏุฑ ููุงุณ ุจุฒุฑฺฏ ูุงฺฉุงุฑุขูุฏ ูโุดูุฏ.

Mesh ู Torus ุดุจฺฉูโูุง ูุฏุฑู ูุณุชูุฏ ฺฉู ุจุฑุง HPC ู ฺฉูุงุณุชุฑูุง ุจุฒุฑฺฏ ุทุฑุงุญ ุดุฏูโุงูุฏ ู ููุงุณโูพุฐุฑ ุจุณุงุฑ ุจูุชุฑ ุฏุงุฑูุฏ.
โจ ูพุณ
ยซุดุจฺฉู ุจุง ุฑูุงุจุช (bus)ยป ูุฏู ุงุณุช ฺฉู ุฏุฑ ุขู ููู ูพุฑุฏุงุฒูุฏูโูุง ุงุฒ ฺฉ ูุณุฑ ูุดุชุฑฺฉ ุงุณุชูุงุฏู ูโฺฉููุฏ. ุงู ุฑูุงุจุช ุจุงุนุซ ูโุดูุฏ ุงุฒูฺฉุงุฑุง ุถุนู ุจุงุดุฏ ู ุงูฺฏูุฑุชูโูุง ุฏุฑ ููุงุณ ุจุฒุฑฺฏ ฺฉุงุฑุง ุฎูุฏ ุฑุง ุงุฒ ุฏุณุช ุจุฏููุฏ. ุจู ููู ุฏููุ ุฏุฑ ุชุญูู ุงุฒูฺฉุงุฑุงุ ุดุจฺฉู bus ุจูโุนููุงู ูููููโุง ุงุฒ ุถุนูโุชุฑู ููุงุณโูพุฐุฑ ูุนุฑู ูโุดูุฏ.


---

## ณ.ฑฐ ุฌูุนโุจูุฏ

- Strong Scaling ููุดู ูุญุฏูุฏ ุงุณุช.  
- Weak Scaling ูุนุงุฑ ุงุตู HPC ุงุณุช.  
- ูุงููู ฺฏูุณุชุงูุณูู ุณูู ุงูุฏุงู ุฑุง ุฏูุฑ ูโุฒูุฏ.  
- ุงุฒูฺฉุงุฑุง ุฑุดุฏ ูุงุฒู n ุจุฑุง ุญูุธ E_0 ุฑุง ุชุนู ูโฺฉูุฏ.  
- ุงูุชุฎุงุจ ุงูฺฏู 1D/2D/3D ุง ููุน ุดุจฺฉู ูโุชูุงูุฏ ุงุฒูฺฉุงุฑุง ุฑุง ุงุฒ ฮ(p) ุชุง ฮ(pโด) ุชุบุฑ ุฏูุฏ.

---

# ุชูุฑู ุจุฎุด ุณูู

### ุณุคุงู ฑ
ุจุฑุง ุงูฺฏูุฑุชู ุฏุงุฑู:

$$
W_1 = \Theta(n^2), \qquad W_p = \Theta(n^2 + p\sqrt{p})
$$

ุชุงุจุน ุงุฒูฺฉุงุฑุง ู ุฑุดุฏ T_p ุฑุง ุจุงุจุฏ.

---

### ุณุคุงู ฒ
ฺฉูุงุณุชุฑ 4096 ูุณุชูโุง:

ุชุงุจุน ุงุฒูฺฉุงุฑุง:

$$
\Theta(p \log p)
$$

ุจุง logโ(4096)=12 ุญุฏุงูู n ุฑุง ุจุงุจุฏ. ุญุฌู ุฏุงุฏู (ูุฑ ุนุฏุฏ 8 ุจุงุช) ุฑุง ุชุฎูู ุจุฒูุฏ.

---

### ุณุคุงู ณ
Contour ุจุฑุง ุฌูุนโุณุงุฒ:  
ูุญูุฑ x=pุ ูุญูุฑ y=nุ ููุญูโูุง E_0=0.9, 0.7, 0.5 ุจุง ุฑุงุจุทู:

$$
n = p \log p
$$

---

### ุณุคุงู ด
ฺุฑุง ุฑู bus ุงุฒูฺฉุงุฑุง ุงุฒ ฮ(pยฒ) ุจู ฮ(pโด) ูโุฑุณุฏุ (ุญุฏุงฺฉุซุฑ ต ุฎุท)

---
ุจุณุงุฑ ุฎูุจ โ ุงู ูุณุฎู ุฑุง **ุฏููุงู ุจู ููุงู ูุงูุจ ฺฉู ุจุฎุดโูุง ฑโณ ูุจูุงู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉุฑุฏูุฏ** ุขูุงุฏู ฺฉุฑุฏูโุงู:

* ูููู ูุนุงุฏูุงุช ุฏุฑ ุจูุงฺฉโูุง ุณุงุฏูู `$$ ... $$` ูุณุชูุฏุ
* ุงุฒ ุฏุณุชูุฑุงุช ูพฺุฏูู LaTeX (ูุซู `\boxed`ุ `\Rightarrow` ู ูุธุงุฑ ุขู) ุงุณุชูุงุฏู ูุดุฏูุ
* ุนุจุงุฑุชโูุง ุจุง ุณูุชฺฉุณู ุณุงุฏูู ฺฉุณุฑ/ุถุฑุจ ููุดุชู ุดุฏูโุงูุฏ ุชุง ููฺฏุงู **Paste ุฏุฑ Word** ุจูโุตูุฑุช Equation ุดุณุชูโุฑูุชู ููุงุด ุฏุงุฏู ุดููุฏ.

ฺฉูพ ฺฉูุฏ ู ูุณุชูู ุฏุฑ Word ูพุณุช ฺฉูุฏ โ ูุฑูููโูุง ุจุงุฏ ุฏุฑุณุช ููุงุด ุฏุงุฏู ุดููุฏ.

---

# ุจุฎุด ฺูุงุฑู โ ูุฏูโุณุงุฒ ฺฉุงุฑ ููุงุฒ ู Stencil ุนูู

**ุงูฺฏูุฑุชูโูุง ููุงุฒ โ ูุตู ฺฉุงุฑุง ู ููุงุณโูพุฐุฑ**


---

## ด.ฑ ูุฏู ูพุงูโฺฏุฐุงุฑ ู ุชุฌุฒูู ุจุงุฑ ฺฉุงุฑ

ุฏุฑ ูุญุงุณุจุงุช ูุจุชู ุจุฑ ูพุงูโฺฏุฐุงุฑุ ุจุงุฑ ฺฉุงุฑ ุฑู ูุฑ ูพุฑุฏุงุฒูุฏู ุฑุง ุจู ุณู ุฌุฒุก ุงุตู ุชูุณู ูโฺฉูู:

$$
W_p = W_{comp} + W_{comm} + W_{idle}
$$

* **W_comp**: ูุญุงุณุจุงุช ููุฏ ู ูุฒููโูุง ุงุถุงู ูุงุด ุงุฒ ููุงุฒโุณุงุฒ.
* **W_comm**: ุฒูุงู ุงุฑุณุงู ู ุฏุฑุงูุช ูพุงูโูุง (ูุงุจุณุชู ุจู ุชููพูููฺ ู ุงูฺฏู ุงุฑุชุจุงุท).
* **W_idle**: ุฒูุงู ุจฺฉุงุฑ ููฺฏุงู ุงูุชุธุงุฑ ุจุฑุง ุฏุงุฏู ุง ููฺฏุงูโุณุงุฒ.

ูุฏู ุทุฑุงุญ: ฺฉุงูุด ูุฑ ุณู ูุคูููุ ุงูููุช ูุนูููุงู ุงู ุงุณุช ฺฉู ุงุจุชุฏุง **W_idle ุฑุง ุจุง ุชูุงุฒู ุจุงุฑ ฺฉู ฺฉูู** ู ุณูพุณ **W_comm ุฑุง ุจููู ุณุงุฒู**.

---

## ด.ฒ ฺฉุงูุด W_idle โ ุชฺฉูฺฉโูุง ุนูู

1. **ุชูุงุฒู ุจุงุฑ ุงุณุชุง (Static load balancing)**: ููุช ูุฒููู ูุฑ ุชฺฉู ุชูุฑุจุงู ูุดุงุจู ุงุณุชุ ุชูุณู ฺฉููุงุฎุช ฺฉุงู ุงุณุช (ูุซูุงู n/p ุฑุฏู ุฏุฑ stencil).
2. **ุชูุงุฒู ุจุงุฑ ูพูุง (Dynamic load balancing)**: ุจุฑุง ูุณุงุฆู ูุงููุธู ุงุฒ Work-stealing ุง ุตู ฺฉุงุฑ ุงุณุชูุงุฏู ูโุดูุฏ.
3. **Over-decomposition + Multithreading**: ุชุนุฏุงุฏ ุชุณฺฉโูุง ุฑุง ุจุฒุฑฺฏโุชุฑ ุงุฒ ูุณุชูโูุง ูโฺฉูู ุชุง ุฏุฑ ุตูุฑุช ุจููฺฉู ุดุฏู ฺฉ ุชุณฺฉุ ูุฎ ุฏฺฏุฑ ุงุฌุฑุง ุดูุฏ.
4. **Overlap compute & communication**: ุจุง ุงุฑุณุงู/ุฏุฑุงูุช ุบุฑุงูุณุฏุงุฏ (MPI_Isend/Irecv) ูโุชูุงู ูุญุงุณุจุงุช ุฏุงุฎู ุฑุง ููโุฒูุงู ุจุง ุงูุชูุงู ุญุงุดู ุงูุฌุงู ุฏุงุฏ.

---

## ด.ณ ฺฉุงูุด W_comm ู ูุณุจุช ูุญุงุณุจู ุจู ุงุฑุชุจุงุท (CCR)

ููุฏุงุฑ CCR ุฑุง ุงูโฺฏููู ุชุนุฑู ูโฺฉูู:

$$
CCR = \frac{\text{Flops ูุญู}}{\text{Bytes ุงุฑุณุงู}}
$$

* ุงฺฏุฑ CCR โซ 1 โ ุงูฺฏูุฑุชู ูุณุจุช ุจู ุงุฑุชุจุงุท ููุงูู ุงุณุช.
* ุงฺฏุฑ CCR โ 1 ุง ฺฉูุชุฑ โ ุนููฺฉุฑุฏ ูุงุจุณุชู ุจู ูพููุงโุจุงูุฏ ุดุจฺฉู ุฎูุงูุฏ ุจูุฏ.

ุฑุงูโูุง ุงูุฒุงุด CCR: ุจุฒุฑฺฏโุชุฑ ฺฉุฑุฏู ุจุฎุด ูุญู (agglomeration)ุ ุงุณุชูุงุฏู ุงุฒ stencilูุง ูุฑุชุจูโุจููุฏุชุฑุ ูุดุฑุฏูโุณุงุฒ ุฏุงุฏู ุง ฺฉุงูุด ุฏูุช ุฏุงุฏูโูุง.

---

## ด.ด ูุซุงู: Stencil 3D ููุชโููุทูโุง

ูุงููู ุจูโุฑูุฒุฑุณุงู:

$$
u_{i,j,k}^{t+1} =
c_0,u_{i,j,k}^t

* c_1\bigl(u_{i-1,j,k}^t + u_{i+1,j,k}^t
* u_{i,j-1,k}^t + u_{i,j+1,k}^t
* u_{i,j,k-1}^t + u_{i,j,k+1}^t\bigr)
  $$

ุฏุฑ ูุฑ ููุทู ุญุฏูุฏ ท ููููพ ู โธ ุจุงุฑ ุฏุณุชุฑุณ ุญุงูุธู ุฏุงุฑู. ุจุง **cache blocking** ู **temporal blocking** ูโุชูุงู ฺูุฏ ฺฏุงู ุฒูุงู ุฑุง ุฏุฑ ฺฉุด ูฺฏู ุฏุงุดุช ู CCR ุฑุง ุชุง โณร ุงูุฒุงุด ุฏุงุฏ.

---

## ด.ต ูุฏูโุณุงุฒ ุฒูุงู ุงุฌุฑุง Stencil โ ุชูุณูโุจูุฏ 1D (Slab)

**ูุฑุถุงุช:** ุดุจฺฉู n ร n ร z (ุจุง z โช n)ุ ุชูุณู ุจู p ุงุณูุจ ุงููุ ูุฑ ุงุณูุจ ุจุงุฏ ุฏู ุตูุญู n ร z ุฑุง ุจุง ููุณุงูโูุง ูุจุงุฏูู ฺฉูุฏ.

ุงูู) ูุฒููู ูุญุงุณุจู:

$$
W_{comp} = t_c \cdot \frac{n^2 z}{p}
$$

ุจ) ุญุฌู ูุฑุฒ ูุฑ ุงุณูุจ: (2 \times n \times z) ฺฉููู. ุจูุงุจุฑุงู ูุฒููู ุงุฑุชุจุงุท (ุจุง ูุฏู latency-bandwidth):

$$
W_{comm} = 2 p t_s + 4 p t_w n z
$$

ุฌ) ุงฺฏุฑ n ุจุฑ p ุจุฎุดโูพุฐุฑ ุจุงุดุฏ ู ุชูุงุฒู ฺฉุงูู ุฏุงุดุชู ุจุงุดูุ (W_{idle} = 0).

ุฒูุงู ฺฉู ุงุฌุฑุง:

$$
T_p = t_c \cdot \frac{n^2 z}{p} + 2 t_s + 4 t_w n z
$$

ฺฉุงุฑุง:

$$
E_p = \frac{t_c n^2 z}{t_c n^2 z + 2 p t_s + 4 p t_w n z}
$$

ฺฉู ุฒูุงู (ุงุฑุชุจุงุท) ุญุฏูุฏ (2 t_s + 4 t_w n z) ุงุณุช.

---

## ด.ถ ุชูุณูโุจูุฏ 2D (Pencil decomposition)

ุฏุฑ ุชูุณูโุจูุฏ 2D ูุฑ ุจููฺฉ ุงูุฏุงุฒูโุง ุชูุฑุจุงู ุจุฑุงุจุฑ ุจุง

$$
\frac{n}{\sqrt{p}} \times \frac{n}{\sqrt{p}} \times z
$$

ุฏุงุฑุฏ ู ูุฑ ูพุฑุฏุงุฒูุฏู ฺูุงุฑ ููุณุงู ุฏุงุฑุฏ. ูุฒููู ุงุฑุชุจุงุท ฺฉู ุชูุฑุจุงู:

$$
W_{comm} = 4 p t_s + 8 t_w n z \sqrt{p}
$$

ู ุฒูุงู ุงุฌุฑุง:

$$
T_p = t_c \cdot \frac{n^2 z}{p} + 4 t_s + \frac{8 t_w n z}{\sqrt{p}}
$$

ูุณุจุช ุงุฑุชุจุงุท ุจู ูุญุงุณุจู:

$$
\frac{8 t_w n z / \sqrt{p}}{t_c n^2 z / p} = \frac{8 t_w}{t_c} \cdot \frac{\sqrt{p}}{n}
$$

ุงู ูุณุจุช ุจุง ุงูุฒุงุด p ฺฉูฺฺฉ ูโุดูุฏุ ุจูุงุจุฑุงู 2D ุงุฒ 1D ููุงุณโูพุฐุฑุชุฑ ุงุณุช.

---

## ด.ท ุงุซุฑ ุฑูุงุจุช ุดุจฺฉู (Contention)

ุฏุฑ ุดุจฺฉูู Shared-bus ุชููุง ุญุฏูุฏ p/2 ุงุฑุณุงู ููโุฒูุงู ููฺฉู ุงุณุชุ ุฏุฑ ฺูู ุญุงูุช ูุฒููู ุงุฑุชุจุงุท 1D ูโุชูุงูุฏ ุจู ุตูุฑุช ุชูุงู ุงุฒ p ุฑุดุฏ ฺฉูุฏุ ูุซูุงู ุจุฑุง ุจุนุถ ุขุฑุงุดโูุง:

$$
W_{comm}^{bus} \sim 2 p t_s + 2 t_w n z p^2
$$

ฺฉู ุจุฑุง ุญูุธ ฺฉุงุฑุง ูุงุฒ ุงุณุช (t_c n^2 z \propto p^2) โ (n \propto p) โ (W_1 = ฮ(p^3))ุ ู ุฏุฑ ูุชุฌู ุงุฒููุงูฺฉุดู ูโุชูุงูุฏ ุชุง (ฮ(p^4)) ุฑุดุฏ ฺฉูุฏ. ูพุงูุฏ ุนูู: ุฑู ุดุจฺฉูโูุง ุจุง ุฑูุงุจุช ุจุงูุงุ ุงูฺฏูุฑุชูโูุง ุณุงุฏูู stencil ุนููุงู ุบุฑููุงุณโูพุฐุฑ ูโุดููุฏ.

---

## ด.ธ ูุฏู ุณูู ุนููฺฉุฑุฏ (Roofline) ุจุฑุง Stencil

Operational Intensity ูููููู 7-pt:

$$
OI = \frac{7}{8 \times 8} \approx 0.11 ;\text{Flops/Byte}
$$

ุจุง Blocking ฺฉู CCR ุฑุง โดร ูโฺฉูุฏุ OI ุจู ุญุฏูุฏ 0.44 ูโุฑุณุฏ ู ุงุฌุฑุง ุจุฑูุงูู ุงุฒ ูุงุญูู **Memory-bound** ุจู ุณูุช **Compute-bound** ุญุฑฺฉุช ูโฺฉูุฏ.

---

## ด.น ฺฺฉโูุณุช ูพุงุฏูโุณุงุฒ ุจูููู Stencil

1. ุงูุชุฎุงุจ Tile ูุชูุงุณุจ ุจุง ุณุทูุญ ฺฉุด (ูุซูุงู L1/L2).
2. ุงุณุชูุงุฏู ุงุฒ SIMD ู pragmaูุง vectorization.
3. ุงุฑุชุจุงุท ุบุฑุงูุณุฏุงุฏ ู ูููพูุดุงู ุงุฑุชุจุงุท ุจุง ูุญุงุณุจู.
4. ฺุฏูุงู ุฏุงุฏูู ููุงุณุจ (AoS โ SoA โ AoSoT).
5. ูพุฑููุงููฺฏ ุจุง mpiPุ Scalascaุ LIKWID ุง VTune ุจุฑุง ุงูุชู ฺฏููฺฏุงูโูุง.

---

## ด.ฑฐ ุฌูุนโุจูุฏ

* ุจุงุฑ ฺฉุงุฑ ูพุฑุฏุงุฒูุฏู ุฏุฑ ูุฏู ูพุงูโฺฏุฐุงุฑ ุฑุง ูโุชูุงู ุจู ูุญุงุณุจูุ ุงุฑุชุจุงุท ู ุจฺฉุงุฑ ุชูุณู ฺฉุฑุฏ.
* CCR ูุนุงุฑ ฺฉูุฏ ุจุฑุง ุชุนู Bound ุจูุฏู ุงุฌุฑุง ุจุฑูุงูู ุงุณุช.
* ุชูุณูโุจูุฏ 2D ุจุฑุง stencil 3D ุบุงูุจุงู ุจุฑ 1D ุจุฑุชุฑ ุฏุงุฑุฏ.
* ุดุจฺฉูโูุง ุจุง ุฑูุงุจุช ุจุงูุง ูโุชูุงููุฏ ุงุฒูฺฉุงุฑุง ุฑุง ุจู ุชูุงูโูุง ุจุงูุงุชุฑ ุจุจูุฑููุฏ ู ููุงุณโูพุฐุฑ ุฑุง ุชุถุนู ฺฉููุฏ.
* ุจุง Blocking ู overlap ูโุชูุงู CCR ุฑุง ฺูุฏ ุจุฑุงุจุฑ ุงูุฒุงุด ุฏุงุฏ ู ุจุฑูุงูู ุฑุง ุจู ูุงุญูู Compute-bound ูุฒุฏฺฉโุชุฑ ฺฉุฑุฏ.

---

# ุชูุฑูโูุง ุจุฎุด ฺูุงุฑู

### ุณุคุงู ฑ โ (ฑฒ ููุฑู)

ฺฉ stencil 2D ูพูุฌโููุทูโุง ุฑู ุดุจฺฉูู (n \times n) ุจุง (p) ูพุฑุฏุงุฒูุฏู ุงุฌุฑุง ูโุดูุฏ.
ุงูู) ุญุฌู ูพุงู ุฏุฑ ุชูุณูโุจูุฏ 1D ุฑุง ุจููุณุฏ.
ุจ) ูุฑููู (T_p) ุฑุง ุจุง ูุฑุถ (W_{comp} = 5 t_c n^2 / p) ูุดุชู ฺฉูุฏ.
ุฌ) ุจุฑุง (n=4096)ุ (p=64)ุ (t_c=20) nsุ (t_s=2) ยตs ู (t_w=5) ns/Byteุ GFLOPS ู ูพููุงโุจุงูุฏ ูุตุฑู ุฑุง ูุญุงุณุจู ฺฉูุฏ.

### ุณุคุงู ฒ โ (ฑฐ ููุฑู)

ููุงู ูุณุฆูู ุจุง ุชูุณูโุจูุฏ 2D: ุญุฌู ูพุงู ูุฑ ุชุณฺฉ ุฑุง ุจุฏุณุช ุขูุฑุฏ ู ูุดุงู ุฏูุฏ ฺฉู ฺฉู ุงุฑุชุจุงุท โ ( \sqrt{p} ). ุงุฒููุงูฺฉุดู ุฑุง ุงุณุชุฎุฑุงุฌ ู ุจุง ุญุงูุช 1D ููุงุณู ฺฉูุฏ.

### ุณุคุงู ณ โ (ธ ููุฑู)

ฺุฑุง Temporal Blocking ุจุงุนุซ ุงูุฒุงุด CCR ูโุดูุฏุ ฺฉ ูุซุงู 2D ฺฉูุชุงู ุจุงู ฺฉูุฏ.

### ุณุคุงู ด โ (ต ููุฑู)

ูููุฏุงุฑ Roofline ุฑุง ุฑุณู ฺฉูุฏ: ูุญูุฑ x ุงุฒ OI=0 ุชุง 2ุ ูุญูุฑ y ุงุฒ 0 ุชุง 60 GFLOPS. ุฎุทูุท BW=120 GB/s ู Peak=60 GFLOPS ุฑุง ุฑุณู ฺฉูุฏ. ููุงุท stencil ุจุง OI=0.11 ู OI=0.44 ุฑุง ุนูุงูุชโฺฏุฐุงุฑ ู ุชุญูู ฺฉูุฏ.

---

**
ูพุงุงู ุจุฎุด ฺูุงุฑู**

---
.

---

# ุจุฎุด ูพูุฌู โ ฺฉุงุฑุจุฑุฏูุง ูพุดุฑูุชู: ูพุงุฏูโุณุงุฒุ ุจูููโุณุงุฒ ู ูุทุงูุนู ููุฑุฏ

**ุงูฺฏูุฑุชูโูุง ููุงุฒ โ ูุตู ฺฉุงุฑุง ู ููุงุณโูพุฐุฑ**


---

## ต.ฑ ุงุฒ ูุฑููู ุชุง ฺฉุฏ โ ฺฏุงูโูุง ุงุฌุฑุง ฺฉ ุจุฑูุงูู ููุงุณโูพุฐุฑ

ฑ. **ุงูุชุฎุงุจ ุงูฺฏูุฑุชู ู ุงูฺฏู ุชูุณูโุจูุฏ**

* Stencil โ 2D/3D block
* FFT โ slab ุง pencil + transpose
* N-Body โ tree-based ุง particle-mesh

ฒ. **ูุฏูโุณุงุฒ ุงููู**
ุจุง ููุงู ูุฑูููโูุง ูุงุจู ุงุณุชูุงุฏู ุฏุฑ Word:

* W_comp: ุจุงุฑ ฺฉุงุฑ ูุญู
* W_comm: ุฒูุงู ุงุฑุชุจุงุท
* T_p = W_comp ร t_c + W_comm

ุจุง ุงู ูุฏู ุญุฏุณ ูโุฒูู ฺฉุฏุงู ุชุฑฺฉุจ p ู n ุนูู ุงุณุช.

ณ. **ูพุงุฏูโุณุงุฒ ุงููู (MPI)**

* ุงุฑุณุงู/ุฏุฑุงูุช ุบุฑุงูุณุฏุงุฏ ุญุงุดูโูุง
* ฺฉุงูุด ุฌูุน (reduction) ุฏุฑ ูพุงุงู ูุฑุญูู ุจุง collective

ด. **ุจูููโุณุงุฒ ูฺฉุฑู**

* Vectorizationุ Cache Blockingุ Fusion Loop
* MPI-3 shared memory ุง OpenMP ุฏุงุฎู node

ต. **ูพุฑููุงู ู ุชูุธู ูุฌุฏุฏ**

* ุงุจุฒุงุฑูุง: mpiPุ Scalascaุ HPCToolkitุ LIKWIDุ VTune
* ุดุงุฎุตโูุง: ุฏุฑุตุฏ ุฒูุงู ุงุฑุชุจุงุทุ ุฏุฑุตุฏ idleุ ูพููุงโุจุงูุฏุ ุฏุฑุตุฏ vectorization

ถ. **ูุทุงูุนู ููุงุณโูพุฐุฑ (Scaling-Study)**

* Weak Scaling: ุซุงุจุช ูฺฏู ุฏุงุดุชู Work/core
* Strong Scaling: ุซุงุจุช ูฺฏู ุฏุงุดุชู ุงูุฏุงุฒู ูุณุฆููุ ุงูุฒุงุด p
* ูุญุงุณุจู Isoefficiency ู ุชุทุจู ุจุง ูุฏู

---

## ต.ฒ ูุทุงูุนู ููุฑุฏ ฑ โ ุฌูุนโุณุงุฒ ุฌูุงู (MPI_Reduce)

**ูุณุฆูู:** n = 2ยณโฐ ุนุฏุฏุ p = 2ยนโฐ = 1024 ูุณุชูุ ุดุจฺฉู Fat-Tree
**ุงูฺฏูุฑุชู:** Tree-based Reduce (binary ุง binomial)

**ูุฏู ุฒูุงู ุงุฌุฑุง:**

* W_comp = n/p + logโ(p) โ 2ยฒโฐ + 10
* W_comm โ 2 ร (t_s + t_w ร 8 Byte) ร logโ(p)

ุจุง t_s = 3 ฮผs ู t_w = 0.8 ns/Byte โ W_comm โ 61 ฮผs

ุฒูุงู ฺฉู:

* T_p โ W_comp ร t_c + W_comm โ 1.11 ms

ุณุฑุนุช:

* S_p โ p / T_p โ 923
* E_p โ 90 % โ ุนุงูุ ฺูู logโ(p) ฺฉูฺฺฉ ุงุณุช

**ุจูููโุณุงุฒ:**

* Radix-k ุจู ุฌุง ุฏูุฏู โ ุงุฑุชูุงุน ุฏุฑุฎุช ูุตู ูโุดูุฏ ูู ูพููุงโุจุงูุฏ ุจุดุชุฑ ูุตุฑู ูโุดูุฏ
* Segmented Reduce โ ุงูุฒุงุด CCR ู ฺฉุงุฑุง cache

---

## ต.ณ ูุทุงูุนู ููุฑุฏ ฒ โ Stencil ุณูโุจุนุฏ ููุงุดูุงุณ (COSMO)

**ูุดุฎุตุงุช:**

* Grid: 1400ร1100ร80 โ 1.2ร10โธ ุณููู
* Stencil 7-ptุ 40 ูุฑุญูู ุฒูุงู
* ฺฉูุงุณุชุฑ: 640 node ร 40 coreุ Infiniband EDR

**ฺฏุงู ฑ โ ุชูุณูโุจูุฏ 2D Pencil**

* Tile-size: 70ร55ร80 per core โ 1.5 ูููู ุณููู/core
* ุญุงุดู: 4 ุตูุญู 70ร80 ุง 55ร80 โ 156 KB
* CCR = (7 Flops ร 1.5M) / (156 KB ร 8) โ 8.4 Flops/Byte โ Compute-bound

**ฺฏุงู ฒ โ Temporal Blocking**

* Diamond Tiling ุจุง width = 4 time-step
* ุงูุฒุงุด Flops ร4 ุจุฏูู ุงูุฒุงุด BW โ CCR โ 34
* ฺฉุงูุด ุชุนุฏุงุฏ ูพุงูโูุง ุจู ยผ โ W_comm ดร ฺฉูุชุฑ

**ฺฏุงู ณ โ Fusion Physics & Dynamics**

* Kernel Fusion: ูุญุงุณุจุงุช ูุฒฺฉ ุฏุฑ ููุงู ูพุงุณ stencil โ ฺฉุงูุด ูพููุงโุจุงูุฏ

**ูุชุงุฌ Scaling:**

* Weak Scaling: 10 โ 640 nodeุ T_step ุงุฒ 0.9 s โ 1.1 s โ 94 % ฺฉุงุฑุง
* Strong Scaling: ุงูุฒุงุด ูุถูุญ 15รุ ุฒูุงู ุซุงุจุช โ Gustafson ุจุฑูุฑุงุฑ

---

## ต.ด ูุทุงูุนู ููุฑุฏ ณ โ N-Body Treecode + MPI + OpenMP

**ุงูฺฏูุฑุชู:**

* ุณุงุฎุช Oct-tree ููุงุฒ (Sort-based ุง SFC)
* Walk ููุงุฒ ุจุง Particle-Group
* ุงุฑุชุจุงุท: ุงูุชูุงู ุญุฏุงฺฉุซุฑ 26 ุญุงุดู (ghost-cell)

**ฺุงูุดโูุง:**

1. Saw-tooth Load Imbalance โ Work-Stealing ุฏุงุฎู node ุจุง OpenMP task
2. Irregular Communication โ Graph Partitioning (ParMETIS)
3. Global Time-Step โ Block-Time-Step ู MPI_Reduce_scatter

**ูุชุงุฌ:**

* 16K ูุณุชูุ 8ร10โน ุฐุฑู
* Weak Scaling: E_p = 73 % ูุณุจุช ุจู 512 core
* Strong Scaling: ุงูุฒุงุด ูุถูุญ 2ร ุฒูุงู ุซุงุจุช โ Gustafson ุจุฑูุฑุงุฑ

---

## ต.ต ฺฺฉโูุณุช ููุง Scaling-Study ุฏุฑ HPC

1. ุซุจุช ูุญุท: ูุณุฎู MPIุ ุฏุฑุงูุฑ ุดุจฺฉูุ CPUุ ูุฑฺฉุงูุณ ุซุงุจุช
2. Repeatability: ูุฑ ููุทู โฅ3 ุจุงุฑุ ุงูุญุฑุงู <3 %
3. ุดุงุฎุตโูุง:

   * T_p โ S_pุ E_p
   * ูพููุงโุจุงูุฏ (LIKWID)
   * ุฏุฑุตุฏ ุฒูุงู MPI (mpiP)
   * IPC (Instructions-per-Cycle)
4. ุฑุณู ููุญูโูุง: S_p-pุ E_p-pุ T_p-p
5. Curve-Fit: T_p = ฮฑ + ฮฒ/p + ฮณ p ุง T_p = ฮฑ + ฮฒ/p + ฮณโp โ ุงุณุชุฎุฑุงุฌ ฮฑ, ฮฒ, ฮณ
6. ฺฏุฒุงุฑุด Bottleneck ู ูพุดููุงุฏ ุจูููโุณุงุฒ

---

## ต.ถ ุงุฒ ุงุฏู ุชุง ููุงูู โ ุงูฺฏู ฺฏุฒุงุฑุดโููุณ

**ุณุงุฎุชุงุฑ ุจุฎุด Performance:**

1. Experimental Setup: Machine nameุ CPUุ Interconnectุ Compiler flags
2. Performance Model: T_p = W_comp ร t_c + W_comm
3. Scaling Results: ุฌุฏูู + ูููุฏุงุฑ S_p ู E_p
4. Isoefficiency Analysis: ูุญูู ุฑุดุฏ n ุจุง p ุจุฑุง ุซุงุจุช ูุงูุฏู Eโ
5. Bottleneck Analysis: ูููุฏุงุฑ ุฏุฑุตุฏ compุ commุ idle
6. Comparison with State-of-the-Art: ุณุฑุนุช ูุณุจุช ุจู ุจูุชุฑู ูพุงุฏูโุณุงุฒ

---

## ต.ท ุฌูุนโุจูุฏ ุจุฎุด ูพูุฌู

* ุจุฑูุงูู ููุงุณโูพุฐุฑ = ูุฏู + ฺฉุฏููุณ + ูพุฑููุงู + ุจูููโุณุงุฒ
* Non-blocking ู cache-aware tiling โ ุงูุฒุงุด 2โ4ร CCR
* Work-stealing ู dynamic load balance โ ุถุฑูุฑ ุจุฑุง ูุณุงุฆู ูุงููุธู
* Scaling-Study ุจุงุฏ repeatable ู ุดูุงู ุจุงุดุฏ
* Isoefficiency โ ูพุดโุจู ุฑุดุฏ ูุณุฆูู ุจุฑุง ุงูุฒูุฏู ูุณุชู

---

# ุชูุฑูโูุง ุจุฎุด ูพูุฌู

### ุณุคุงู ฑ โ ฑฒ ููุฑู

ฺฉุฏ MPI tree-based ุงุฌุฑุง ุดุฏ: 2 node ร 32 core

* Tโ = 1.2 sุ Tโโ = 22 ms
* t_s = 4 ฮผsุ t_w = 1 ns/Byteุ ุญุฌู ูุฑ ูพุงู 8 MB

ุงูู) Sโโ ู Eโโ
ุจ) ุจุฑุงุฒุด T_p = ฮฑ + ฮฒ/p + ฮณ logโ(p) โ ฮฑ, ฮฒ, ฮณ
ุฌ) ูพุดโุจู T_p ุจุฑุง p = 256 (ฮณ ุซุงุจุช)

---

### ุณุคุงู ฒ โ ฑฐ ููุฑู

Stencil 2D 5-ptุ ุชูุณูโุจูุฏ 1D: t_c = 25 nsุ t_s = 3 ฮผsุ t_w = 2 ns/Byte

ุงูู) CCR = (Flops ูุญู)/(Bytes ุงุฑุณุงู) ุจู ุตูุฑุช ุชุงุจุน n ู p
ุจ) ุญุฏุงูู n ุจุฑุง CCR = 5 ู p = 64
ุฌ) ุขุง ุงู n ุจุง Isoefficiency ฮ(p) ุณุงุฒฺฏุงุฑ ุงุณุชุ ฺุฑุงุ

---

### ุณุคุงู ณ โ ธ ููุฑู

ฺุฑุง Block-Time-Step ุฏุฑ N-Body Treecode ููุงุณโูพุฐุฑ ุฑุง ุงูุฒุงุด ูโุฏูุฏุ (ต ุฎุท)

---

### ุณุคุงู ด โ ต ููุฑู

ููุดู ุณูู Roofline: OI = 0.05 Flops/Byteุ Peak = 60 GFLOPSุ BW = 120 GB/s
ููุทู ุฑุง ุนูุงูุช ุฒุฏู ู ุชุญูู ฺฉูุฏ: ุงูุฒุงุด OI ุง BW ฺฉุฏุงู ุณูุฏ ุจุดุชุฑ ุฏุงุฑุฏุ

---



**ูพุงุงู ุจุฎุด ูพูุฌู ** โ


---

# ุจุฎุด ุดุดู โ ุฌูุนโุจูุฏุ ฺฺฉโูุณุช ููุง ู ููุงุจุน ูพุดููุงุฏ

**ุงูฺฏูุฑุชูโูุง ููุงุฒ โ ูุตู ฺฉุงุฑุง ู ููุงุณโูพุฐุฑ**


---

## ถ.ฑ ุขูฺู ุชุง ุงูโุฌุง ุขููุฎุชู โ ููุดู ุฐูู ฺฉ ูฺฏุงู

ฑ. **ุชุนุงุฑู ูพุงู:**
M, W, V, T, C, Oโ โ ูุญุงุณุจู Tโ ู Tโ

2. **ฺฉุงุฑุง ู ุณุฑุนุชโฺฏุฑูุชฺฏ:**
   [
   E_p = \frac{W_1}{W_p}, \quad S_p = p E_p
   ]
   ููููู Superlinear ู ุณูู Amdahl

3. **ููุงุณโูพุฐุฑ:**

* Strong vs Weak
* ูุงููู Gustafson
* ุชุงุจุน ุงุฒูฺฉุงุฑุง (\Theta(p^k)) ู ูุนูุง k

4. **ูุฏูโุณุงุฒ ฺฉุงุฑ:**
   [
   W_p = W_{\text{comp}} + W_{\text{comm}} + W_{\text{idle}}
   ]
   ุดูุงุณุง Bottleneck

5. **ูุทุงูุนู ููุฑุฏ:**
   Stencil (1D/2D)ุ N-Bodyุ Reduce โ ุงุฒ ูุฑููู ุชุง ฺฉุฏ ู ูุชุงุฌ ูุงูุน

6. **ุจูููโุณุงุฒ ู ูพุฑููุงู:**
   Cache blocking, Overlap, Dynamic load balance, Roofline

---

## ถ.ฒ ฺฺฉโูุณุช ููุง ยซุขุง ุงูฺฏูุฑุชู ูู ููุงุณโูพุฐุฑ ุงุณุชุยป

| ูุฑุญูู | ุณุคุงู ฺฉูุฏ                                            | ุงฺฏุฑ ยซููยป โ ุงูุฏุงู                                   |
| ----- | ----------------------------------------------------- | -------------------------------------------------- |
| ฑ     | ุขุง s (ุจุฎุด ุณุฑุงู) < 1ูช ุงุณุชุ                           | ฺฉูฺฺฉโุณุงุฒ ุจุฎุด ุณุฑุงู ุง ุงุณุชูุงุฏู ุงุฒ Gustafson        |
| ฒ     | ุขุง W_comm + W_idle ุฑุดุฏ ุฒุฑุฎุท ุจุง p ุฏุงุฑุฏุ             | ุจุฑุฑุณ ุงูฺฏู comm ู idle                            |
| ณ     | ุขุง CCR > 1 Flops/Byte ุงุณุชุ                           | ุงูุฒุงุด ูุญุงุณุจุงุช ูุญู ุง ฺฉุงูุด BW                     |
| ด     | ุขุง Load-Imbalance < 5ูช ุงุณุชุ                          | ุชูุณูโุจูุฏ ุฏููโุชุฑ ุง Work-Stealing                |
| ต     | ุขุง ุชุงุจุน ุงุฒูฺฉุงุฑุง ฮ(p log p) ุง ุจูุชุฑ ุงุณุชุ           | ุงฺฏุฑ ฮ(pยฒ) ุงุณุชุ ุงูฺฏูุฑุชู ุง ุดุจฺฉู ุฑุง ุนูุถ ฺฉูุฏ        |
| ถ     | ุขุง T_p ุฏุฑ Weak Scaling ุชุง p_max < 1.3ร ุงูุฒุงุด ุงูุชูุ | ุจุฑุฑุณ Bottleneck ุฏุฑ ูพุฑููุงู                        |
| ท     | ุขุง Strong Scaling ุชุง p=โn ูููุฒ E_p > 0.5 ุงุณุชุ        | ุงฺฏุฑ ููุ ูุณุฆูู ุฑุง ุจุฒุฑฺฏโุชุฑ ฺฉูุฏ ุง comm ุฑุง ฺฉุงูุด ุฏูุฏ |

---

## ถ.ณ ุงูฺฏู ฺฏุฒุงุฑุดโููุณ ฺฉ ุตูุญูโุง

**Title:** Scalability Analysis of ยซXYZยป on ยซCluster-ABCยป

1. **Model:**
   [
   T_p = \alpha + \frac{\beta}{p} + \gamma \sqrt{p}
   ]
   ูพุงุฑุงูุชุฑูุง ูุชโุดุฏู ฮฑ, ฮฒ, ฮณ

2. **Isoefficiency:**
   [
   W_1^{\text{iso}}(p) = \Theta(p \log p)
   ]
   ุงุซุจุงุช ุจุง ุฏุงุฏูโูุง ถ ููุทู

3. **Results:**

* Weak: Eโโ=0.91 โ Eโโโโ=0.78
* Strong: Sโโ=58ุ Sโโธ=95 (n=2ยฒโด)

4. **Bottleneck:**
   MPI_Allreduce 28ูชุ Idle 9ูช โ ุจูููโุณุงุฒ ุจุนุฏ: Radix-8 reduce

5. **Conclusion:**
   ุงูฺฏูุฑุชู ุชุง ฑK ูุณุชู ููุงุณโูพุฐุฑ ุงุณุชุ ุจุฑุง ดK ูุงุฒ ุจู ุชุบุฑ ุดุจฺฉู ุง ุจุฒุฑฺฏโุชุฑ ฺฉุฑุฏู ูุณุฆูู

---

## ถ.ด ุฑุงุจุทูโ ุงู ูุตู ุจุง ุฏุฑูุณ ุฏฺฏุฑ ุชุฑู

| ุฏุฑุณ            | ุงุฑุชุจุงุท ูุณุชูู                                            |
| -------------- | -------------------------------------------------------- |
| ุณุณุชูโุนุงูู     | Thread schedulingุ Work-Stealingุ Memory Affinity        |
| ูุนูุงุฑ         | Cache hierarchyุ NUMAุ BW vs Latency                     |
| ุดุจฺฉู           | Topologies: Fat-Tree, Torusุ Contention analysis         |
| ุทุฑุงุญ ุงูฺฏูุฑุชู | Divide-&-Conquerุ PRAMุ BSP model                        |
| ุงุฏฺฏุฑ ูุงุดู  | Distributed trainingุ All-Reduceุ Data/Model parallelism |

---

## ถ.ต ฺูุงุฑ ุงุตู ุทูุง ฺฉู ูฺโฺฏุงู ูุฑุงููุด ูฺฉูุฏ

1. **ยซYou cannot scale what you cannot measure.ยป**
   ุจุฏูู ูพุฑููุงู ุฏููุ ูุฑ ุงุฏุนุง scalability ุจโูุนูุงุณุช

2. **ยซBandwidth scales with dollars, latency scales with physics.ยป**
   ฺฉุงูุด ูพุงูโูุง ฺฉูฺฺฉ ุงูููุช ุฏุงุฑุฏุ ูพููุง ุจุงูุฏ ูุงุจู ุฎุฑุฏ ุงุณุช ุงูุง latency ูู

3. **ยซLoad imbalance is the silent killer.ยป**
   ุญุช ุงูฺฏูุฑุชูโูุง ุจโููุต comm ููฺฉู ุงุณุช ุจู ุฏูู ฑฐูช imbalanceุ E_p ุฑุง ูุตู ฺฉููุฏ

4. **ยซStrong scaling ends, weak scaling never dies.ยป**
   ุงฺฏุฑ ูพูู ู ุจุฑู ุฏุงุฑุฏุ ูุณุฆูู ุฑุง ุจุฒุฑฺฏ ฺฉูุฏ ุชุง ุงุฒ ูุณุชูโูุง ุฌุฏุฏ ุณูุฏ ุจุจุฑุฏ

---

## ถ.ถ ููุงุจุน ูพุดููุงุฏ ุจุฑุง ุงุฏุงูู ูุณุฑ

**ฺฉุชุงุจโูุง:**

* Grama et al. โ *Introduction to Parallel Computing* (Ch. 5,6)
* Quinn โ *Parallel Programming in C with MPI and OpenMP*
* Hennessy & Patterson โ *Computer Architecture* (Ch. 6,7)
* Rauber & Rรผnger โ *Parallel Programming for Multicore and Cluster Systems*

**ููุงูุงุช ฺฉูุฏ:**

* Gustafson, 1988 โ *Reevaluating Amdahlโs Law*
* Grama et al., 1993 โ *Isoefficiency: Measuring Scalability*
* Kumar et al., 1994 โ *Scalability of Parallel Algorithms*
* Williams et al., 2009 โ *Roofline: An Insightful Visual Performance Model*

**ุงุจุฒุงุฑ ููุจุนโุจุงุฒ:**

* LIKWID โ Performance counter ู Roofline plotting
* Scalasca/Score-P โ Trace ู Bottleneck detection
* OSU MPI Benchmarks โ Latency, BW, Collective
* Intel VTune / AMD uProf โ Micro-analysis
* Paraview+VTK โ Visualization of scaling data

**ุฏูุฑูโูุง ุขููุงู ุฑุงฺฏุงู:**

* CS267 (Berkeley) โ Applications of Parallel Computers
* PRACE โ HPC Performance Analysis Workshops
* OpenHPI โ *Parallel Programming Concepts*

**ูุฎุงุฒู ฺฉุฏ ุขููุฒุด:**

* LLNL/CALI โ MPI mini-apps with scaling studies
* PRACE/CodeVault โ Stencil, N-Body, FFT examples
* OSU Micro-Benchmarks โ t_s, t_w extraction scripts

---

## ถ.ท ุชูุฑู ูุฑูุฑ (ุจุงุฒุฎูุฑุฏ ููุง)

### ุณุคุงู ฑ (ฑต ููุฑู)

ุงูู) ุชูุงูุช ูุงููู Amdahl ู Gustafson ุฑุง ุฏุฑ ฺฉ ุฌููู ุจููุณุฏ
ุจ) ุงฺฏุฑ Isoefficiency = ฮ(pยฒ log p)ุ ุฑุดุฏ ุฒูุงู ุงุฌุฑุง ุฏุฑ ุญุงูุช ุซุงุจุช ูฺฏูโุฏุงุดุชู ฺฉุงุฑุง ฺฺฏููู ุงุณุชุ
ุฌ) ุจุฑุง Stencil 3D ุจุง 1D slabุ ฺฉุฏุงู ุฏู ูพุงุฑุงูุชุฑ ุดุจฺฉู ุจุดุชุฑู ุชุฃุซุฑ ุฑุง ุจุฑ T_p ุฏุงุฑูุฏุ

### ุณุคุงู ฒ (ฑฐ ููุฑู)

ฺฉุฏ ุฏุงุฑุฏ ฺฉู %MPI-time=35 ู %Idle=20 ูุดุงู ูโุฏูุฏ.
ฺฉุฏุงู ูุฑุญููโ ฺฺฉโูุณุช ถ.ฒ ุฑุง ุงูุฌุงู ูโุฏูุฏุ ฺู ุงุจุฒุงุฑ ุงุณุชูุงุฏู ูโฺฉูุฏุ

### ุณุคุงู ณ (ฑฐ ููุฑู)

ูููุฏุงุฑ Strong Scaling:

* p=1 โ T=120 s
* p=64 โ T=2.5 s
* p=256 โ T=1.1 s

ุงูู) Sโโ ู Sโตถ ุฑุง ูุญุงุณุจู ฺฉูุฏ
ุจ) ุขุง ูููุฒ ุฏุฑ ูุงุญูโ ยซุณูุฏููุฏยป ูุณุชูุ (Eโตถ > 0.5 ุง ูู)

### ุณุคุงู ด (ต ููุฑู)

ฺฉ ุฌููู ุจููุณุฏ ฺฉู ุฏุฑ ุขู ฺฉููุงุช ยซOverheadยปุ ยซLoad-Balanceยป ู ยซIsoefficiencyยป ููฺฏ ุจูโฺฉุงุฑ ุฑููุฏ ู ูุนูุง ูู ุฎูุฏ ุฑุง ุญูุธ ฺฉููุฏ

---

## ถ.ธ ุฎุงุชููโ ุฌุฒูู

ยซููุงุณโูพุฐุฑยป ุนู **ุณุงุฎุชู ูพู ูุงู ุฏุงูุด ู ููุงุจุน**ุ
ููุช ูุณุชูโูุง ุฒุงุฏ ูโุดููุฏุ ุงฺฏุฑ ูุณุฆูู ุฑุง ุจุฒุฑฺฏ ูฺฉูู ุง ุงูฺฏูุฑุชู ุฑุง ุชุบุฑ ูุฏููุ ููุท ุจุฑู ุจุดุชุฑ ูโุณูุฒุงูู.
ุจุง **ูุฏูโุณุงุฒ ุฏููุ ูพุฑููุงู ุนูู ู ุจูููโุณุงุฒ ูุฑุญููโุจูโูุฑุญูู** ูโุชูุงูู ุงุฒ ุงุจุฑุฑุงุงููโูุง ุงูุฑูุฒ ู ูุฑุฏุง ุญุฏุงฺฉุซุฑ ุจูุฑู ุฑุง ุจุจุฑู.

**ูพุงุงู ุจุฎุด ุดุดู ู ูพุงุงู ฺฉุงูู ุฌุฒูู** โ

---
ุ



---


